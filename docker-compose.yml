version: "3"

services:
  web:
    build: .
    container_name: localauth0_web
    volumes:
      - .:$PWD:cached
    ports:
      - "3000:3000"
    working_dir: $PWD
    environment:
      CARGO_HOME: /home/app/.cargo
      CARGO_TARGET_DIR: /home/app/target-docker
      PERMISSIONS_SETTINGS: |
        [
          {
            "audience": "paperboy",
            "permissions": [
              "read:mail",
              "check:blacklist"
            ]
          }
        ]

    networks:
      - default
